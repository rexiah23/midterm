<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home Page</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />

    <!-- use icons from Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>

    <!-- bootstraps -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <%- include('partials/_header') %>
    <div style="margin: auto; width: 50%; margin-top: 2em">
      <% if (dishes.length === 0) { %>
      <h3>There are no foods matching your search.</h3>
      <form method="GET" action="/">
        <button
          type="submit"
          class="btn btn-outline-warning"
          style="margin-top: 2em"
        >
          Navigate back to the Home page
        </button>
      </form>
      <% } else { %>
      <form method="POST" action="/confirmation">
        <% dishes.forEach((dish, index) => { %>
        <h1 style="margin-top: 1em"><%= dish.name %></h1>
        <img
          src="<%= dish.img_url %>"
          alt="Image of Dish"
          style="width: 100%"
        />
        <p><em><%= dish.description %></em></p>
        <p><strong>Price:</strong> $<%= dish.price %></p>
        <label for="quantity">Quantity: </label>
        <input
          type="number"
          name="quantity"
          value="<%= cartItems[index] ? cartItems[index] : 0 %>"
        />
        <input type="hidden" name="dish_name" value="<%= dish.name %>" />
        <input type="hidden" name="dish_price" value="<%= dish.price %>" />
        <input type="hidden" name="dish_id" value="<%= dish.id %>" />
        <% }) %>
        <div>
          <button
            type="submit"
            class="btn btn-outline-warning"
            style="margin-top: 2em; margin-bottom: 2em"
          >
            Confirm Order
          </button>
        </div>
      </form>
      <% } %>
    </div>
  </body>
</html>
